<!DOCTYPE html>
<html lang="ru" dir="ltr">

<head>
  <meta charset="utf-8">
  <link rel="manifest" href="manifest.json">
  <link rel="preload" href="index.css" as="style">
  <link rel="preload" href="index.js" as="script">
  <link rel="preload" href="https://fonts.gstatic.com/s/montserrat/v14/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <meta name="theme-color" content="#000" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="Description" content="Visual novel web game from dalteri">
  <title>Visual Novel</title>
  <style>
    body {
      height: 100%;
      width: 100%;
      margin:0;
    }
    #loading {
      display: flex;
      z-index: 10;
      background-color: #000;
      align-items: center;
      justify-content: center;
    }
    .logo {
      max-width: 50%;
      height: 50%;
      stroke: white;
    }
    .flex-center{
      display: flex;
      align-items: center;
      align-content: center;
      justify-content: center;
    }
    .fill {
      height: 100%;
      width: 100%;
    }
    .fixed{
      position: fixed;
    }
    .collapsed {
      display: none!important;
    }
  </style>
</head>

<body class="flex-center">
  <div id="loading" class="fill fixed">
    <svg class="logo fixed" viewBox="0 0 12 10.66" stroke-width=".3" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <defs>
        <path id="t" d="M1 1h10L6 9.66Z" />
        <clipPath id="c">
          <use href="#t" />
        </clipPath>
      </defs>
      <use href="#t" />
      <g clip-path="url(#c)">
        <path d="M1 1l10 0" transform="rotate(20,1,1)">
          <animateTransform attributeName="transform" type="rotate" values="0,1,1;60,1,1" dur="1s" repeatCount="indefinite" />
        </path>
        <path d="M11 1L6 9.66" transform="rotate(20,11,1)">
          <animateTransform attributeName="transform" type="rotate" values="0,11,1;60,11,1" dur="1s" repeatCount="indefinite" />
        </path>
        <path d="M6 9.66L1 1" transform="rotate(20,6,9.66)">
          <animateTransform attributeName="transform" type="rotate" values="0,6,9.66;60,6,9.66" dur="1s" repeatCount="indefinite" />
        </path>
      </g>
    </svg>

  </div>
  <nav id="menu" class="fill flex-center collapsed">

    <ul id="mainMenu" class="flex-center fixed">
      <li id="newGame" class="interactable" onclick="startNewGame()" tabindex="0">Начать</li>
      <li id="continueGame" class="interactable collapsed" onclick="continueGame()" tabindex="0">Продолжить</li>
      <li id="saveGame" class="interactable collapsed" onclick="openSaveGame()" tabindex="0">Сохранить</li>
      <li id="loadGame" class="interactable" onclick="openLoadGame()" tabindex="0">Загрузить</li>
      <li id="options" class="interactable" onclick="openOptions()" tabindex="0">Настройки</li>
    </ul>

    <ul id="optionsMenu" class="fixed collapsed">
      <li tabindex="0">
        <div class="option">
          <label>Загрузка файлов</label>
          <ul class="optionList">
            <li>
              <label for="fl1" class="interactable">
                <input type="radio" name="fileLoading" id="fl1" class="interactable">
                <span>Заранее</span>
              </label>
            </li>
            <li>
              <label for="fl2" class="interactable">
                <input type="radio" name="fileLoading" id="fl2" class="interactable">
                <span>В момент открытия</span>
              </label>
            </li>
            <li>
              <label for="fl3" class="interactable">
                <input type="radio" name="fileLoading" id="fl3" class="interactable">
                <span>Загрузить всё</span>
              </label>
            </li>
          </ul>
        </div>
      </li>
      <li tabindex="0">
        <div class="option">
          <label for="volume">Громкость</label><br>
          <input type="range" name="volume" min="0" max="100" id="volume" class="interactable">
        </div>
      </li>
      <li tabindex="0">
        <div class="option">
          <label for="textSpeed">Скорость вывода текста</label><br>
          <input type="range" name="textSpeed" min="0" max="100" id="textSpeed" class="interactable">
        </div>
      </li>
      <li tabindex="0">
        <div class="option" id="fullscreenOption" onclick="toggleFullscreen()">
          <label for="fullscreenCheckBox" class="interactable">
            <span>Полный экран</span>
            <label class="switch">
              <input type="checkbox" id="fullscreenCheckBox">
              <span class="slider"></span>
            </label>
          </label>
        </div>
      </li>
      <li>
        <label id="optionsBack" class="interactable" onclick="CloseOptions()">Назад</label>
      </li>
    </ul>
  </nav>
  <img id="bg" class="fill fixed" src="img/bg1.jpg">
  <figure class="sprites fill flex-center">
    <picture class="m flex-center" id="sprite1Pic"><img alt="sprite" id="sprite1"></picture>
  </figure>
  <div class="text">
    <p id="name"></p>
    <p id="text"></p>
  </div>
  <div class="cover fill" id="cover"></div>
  <div class="menuBtn fixed collapsed" id="menuBtn" onclick="openMenu()" tabindex="0">
    <div class="bar1"></div>
    <div class="bar2"></div>
    <div class="bar3"></div>
  </div>

  <script>
    let link = document.createElement("link");

    link.type = "text/css";
    link.rel = "stylesheet";
    link.href = "index.css";

    document.head.appendChild(link);
  </script>
  <script src="index.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js')
        .then(function(registration) {
          console.log('Registration successful, scope is:', registration.scope);
        })
        .catch(function(error) {
          console.log('Service worker registration failed, error:', error);
        });
    }
  </script>
</body>

</html>
